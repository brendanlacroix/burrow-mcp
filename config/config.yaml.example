house:
  name: "Bunny's Burrow"
  timezone: "America/New_York"

rooms:
  - id: living_room
    name: Living Room
    floor: 1
  - id: bedroom
    name: Bedroom
    floor: 1
  - id: kitchen
    name: Kitchen
    floor: 1
  - id: bathroom
    name: Bathroom
    floor: 1
  - id: office
    name: Office
    floor: 1

devices:
  # LIFX Lights
  - id: lifx_living_main
    name: Living Room Main
    type: lifx
    room: living_room
    config:
      mac: "d0:73:d5:xx:xx:xx"  # optional, can auto-discover

  - id: lifx_bedroom
    name: Bedroom Light
    type: lifx
    room: bedroom

  # Govee Lights
  - id: govee_tv_backlight
    name: TV Backlight
    type: govee
    room: living_room
    config:
      device_id: "XX:XX:XX:XX:XX:XX"
      model: "H6054"

  # Tuya Plugs
  - id: plug_tv
    name: TV Plug
    type: tuya
    room: living_room
    config:
      device_id: "xxx"
      ip: "192.168.1.xxx"

  # August Lock
  - id: lock_front
    name: Front Door
    type: august
    room: null  # not in a room
    config:
      lock_id: "from_secrets"

  # Roomba (Local Control - for older Roombas using iRobot HOME app)
  # Uses roombapy library for local MQTT control
  # Get blid/password using: python -m roombapy.entry_points discover
  - id: roomba_downstairs
    name: Downstairs Roomba
    type: roomba
    room: null
    config:
      ip: "192.168.1.xxx"
      # blid and password should be in secrets.yaml

  # Roomba (Cloud Control - for newer Roombas using Roomba Home app)
  # Uses irbt library for iRobot cloud API control
  # Requires iRobot account credentials in secrets.yaml
  - id: roomba_upstairs
    name: Upstairs Roomba
    type: roomba_cloud
    room: null
    config:
      # Optional: specify which robot if you have multiple in your account
      # robot_name: "Upstairs"     # Match by name
      # robot_index: 1             # Or by index (0-based)
      # robot_id: "XXXXXXXXX"      # Or by exact robot ID

  # AppleTV Media Devices
  # Discover with: python -c "import asyncio; import pyatv; print(asyncio.run(pyatv.scan()))"
  - id: appletv_living
    name: Living Room Apple TV
    type: appletv
    room: living_room
    config:
      ip: "192.168.1.xxx"  # AppleTV IP address
      # identifier: "XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX"  # Alternative to IP

  - id: appletv_bedroom
    name: Bedroom Apple TV
    type: appletv
    room: bedroom
    config:
      ip: "192.168.1.yyy"

  # Presence Sensors
  - id: mmwave_living
    name: Living Room Presence
    type: mmwave
    room: living_room
    config:
      mqtt_topic: "burrow/presence/living_room"

scenes:
  - id: goodnight
    name: Goodnight
    actions:
      - type: room_lights
        room: all
        on: false
      - type: lock
        device: lock_front
        action: lock

  - id: movie
    name: Movie Mode
    actions:
      - type: room_lights
        room: living_room
        on: true
        brightness: 15
        kelvin: 2700
      - type: device
        device: govee_tv_backlight
        on: true
        color: "#1a1a2e"

  - id: morning
    name: Morning
    actions:
      - type: room_lights
        room: living_room
        on: true
        brightness: 80
        kelvin: 4000
      - type: room_lights
        room: kitchen
        on: true
        brightness: 100
        kelvin: 5000
